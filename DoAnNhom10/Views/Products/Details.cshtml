@model DoAnNhom10.Models.Product

@{
    ViewBag.Title = "Chi tiết sản phẩm";

    // Lấy ảnh đầu tiên từ bảng ProductImage
    var firstImage = Model.ProductImages.FirstOrDefault();
    var imgUrl = firstImage != null
        ? Url.Content(firstImage.Url)   // dùng thuộc tính Url trong ProductImage
        : Url.Content("~/Content/images/placeholder.png");
}

<div class="container mt-4">
    <div class="row">
        <!-- Ảnh sản phẩm -->
        <div class="col-md-5">
            <img src="@imgUrl" class="img-fluid rounded shadow-sm" alt="@Model.Name" />
        </div>

        <!-- Thông tin sản phẩm -->
        <div class="col-md-7">
            <h2 class="mb-3">@Model.Name</h2>
            <p class="text-muted">@Model.Brand.Name | @Model.Category.Name</p>
            <h4 class="text-danger fw-bold">@Model.BasePrice.ToString("N0") đ</h4>

            <p class="mt-3">@Model.Description</p>

            <div class="mt-4">
                <!-- Gọi đúng action AddToCart -->
                <a href="@Url.Action("AddToCart", "Cart", new { id = Model.ProductID })" class="btn btn-success btn-lg">
                    <i class="glyphicon glyphicon-shopping-cart"></i> Thêm vào giỏ hàng
                </a>

                <!-- Nút quay lại -->
                <a href="@Url.Action("Index","Products")" class="btn btn-outline-secondary btn-lg">Quay lại</a>
            </div>
        </div>
    </div>
</div>
